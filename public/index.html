<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lesson List</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <main>
    <h1>Lessons</h1>
    <ul id="lesson-list">Loading...</ul>
    <a href="/create.html">âž• Create a New Lesson</a>
  </main>
  <script type="module">
    const list = document.getElementById('lesson-list');

    const res = await fetch('/api/lessons');
    const data = await res.json();

    if (Array.isArray(data.lessons)) {
      list.innerHTML = '';
      data.lessons.forEach(lesson => {
        const li = document.createElement('li');
        li.textContent = `${lesson.title}: ${lesson.description}`;
        list.appendChild(li);
      });
    } else {
      list.textContent = 'Failed to load lessons.';
    }
  </script>
</body>
</html>
